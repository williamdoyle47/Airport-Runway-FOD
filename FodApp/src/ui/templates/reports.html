<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="shortcut icon" type="image/png" href="/icon.png" />


  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="{{ url_for('static', path='/styles.css') }}" />


  <script defer src="https://kit.fontawesome.com/f49056e932.js" crossorigin="anonymous"></script>




  <title>Report Dashboard</title>
</head>

<body>
  <div id="mySidepanel" class="repsidepanel">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()" style="color: black;">×</a>
    <a href="/">Home</a>
    <a href="cams">Cameras</a>
    <a href="reports" class="active">Reports</a></li>
    <a href="#"><i class="fa-solid fa-cog fa-spin fa-1x" style="--fa-animation-duration: 15s"></i></a>
    <a href="#"><i class="fa-solid fa-user fa-1x"></i></a>
  </div>
  <div id="mySidenav" class="sidenav">
    <!-- Menu -->
    <a class="openbtn" onclick="openNav()"><i class="fa-solid fa-bars"></i></a>
    <a class="tooltip" id="sideCam" onclick="generateAnalysis()" class="button" type="button"><i class="fa-solid fa-chart-pie"></i><span class="tooltiptext">Analyze</span></a>
  </div>
  
  <div class="repsidebar">
    <!-- <button class="repbutton" onclick="generateAnalysis()"></button> -->
    
  </div>

  <div class="objectAnalysis">
    <div class="dropdown">
      <button class="dropbtn">Objects Detected</button> 
      <div class="dropdown-content">
        <a onclick="nut('bolt')">Bolt</a>
        <a onclick="nut('concrete')"> Loose Concrete</a>
        <a onclick="nut('nut')">Nut</a>
        <a onclick="nut('pliers')">Pliers</a>
        <a onclick="nut('screwdriver')"> Screwdrivers</a>
        <a onclick="nut('wood')">Wood</a>
        <a onclick="nut('wrench')">Wrench</a>
      </div>
      <p style="color:black">Total Count for this Option: <p style="color: black; text-align: center;" id="FODcountperclass"></p></p> 
    </div>
    <hr>
    <div class="commonfod">

      <div class="card">
        <!-- <img src="img_avatar.png" alt="Avatar" style="width:100%"> -->
        <div class="container">
          <h4><b>Total FOD</b></h4>
          <p class="fodCount">.</p>
        </div>
      </div>
      <br>

      <div class="card">
        <!-- <img src="img_avatar.png" alt="Avatar" style="width:100%"> -->
        <div class="container">
          <h4><b>Total Uncleaned FOD</b></h4>
          <p class="unCleanfodCount">.</p>
        </div>
      </div>
      <br>

      <div class="card">
        <!-- <img src="img_avatar.png" alt="Avatar" style="width:100%"> -->
        <div class="container">
          <h4><b>Most Common FOD</b></h4>
          <p class="fodtype">.</p>
        </div>
      </div>
      <br>
      <div class="card">
        <!-- <img src="img_avatar.png" alt="Avatar" style="width:100%"> -->
        <div class="container">
          <h4><b>Most Common Location</b></h4>
          <p class="fodCoord">.</p>
        </div>
      </div>
      <br>
      <div class="card">
        <!-- <img src="img_avatar.png" alt="Avatar" style="width:100%"> -->
        <div class="container">
          <h4><b>Average Cleanup Time</b></h4>
          <p class="fodcleanup">.</p>
        </div>
      </div>     
      <br> 
      <div class="card">
        <!-- <img src="img_avatar.png" alt="Avatar" style="width:100%"> -->
        <div class="container">
            <label for="fodDate">Date:</label>
            <input type="date" id="fodDate" name="fodDate" min="2023-03-23">
            <br><br>
            <div class="subtime">
              <p style="display: inline-block;" ><button class="datebtn">Submit</button></p>
              <button onclick="nut('all')" style="display: inline-block;" class="datebtn">All-time</button>
            </div>
          </form>
        </div>
      </div>
      <br>
    </div>
    <hr>
    <div class="commonfod">
      <div class="card">
        <!-- <img src="img_avatar.png" alt="Avatar" style="width:100%"> -->
        <div class="container">
          <h4 onclick="generateCSV()"><b>Generate FOD file </b></h4>
          <p class="fodCount"></p>
        </div>
      </div>
      <br>
      <div class="card">
        <!-- <img src="img_avatar.png" alt="Avatar" style="width:100%"> -->
        <div class="container">
          <input type="file" accept=".csv" id="picker">
          <p class="fodCount"></p>
        </div>
      </div>
      <br>
      <div class="card">
        <!-- <img src="img_avatar.png" alt="Avatar" style="width:100%"> -->
        <div class="container">
          <h4 id="myBtn">View Generated report</h4>
          <p class="fodCount"></p>
        </div>
      </div>
      <br>
      
    </div>

  </div>
  
  <div class="typeResults">
    <table id="resultsTable">
      <thead>
        <tr class="ResultstableHeadings">
          <th>UUID</th>
          <th>Fod Type</th>
          <th>Coordinate</th>
          <th>Recommended Action</th>
          <th>Date</th>
          <th>Detection Time</th>
          <th>Cleanup Time</th>
        </tr>
      </thead>
      <tbody id="resultsTableBody">
      </tbody>
    </table>
    
  </div>
 
<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">×</span>
    <p></p>
    <br>
    <table class="csvtable" id="tablecsv"></table>

  </div>

</div>
  
  <script defer src="{{ url_for('static', path='/report.js') }}"></script>

</body> 